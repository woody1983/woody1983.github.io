<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[Category: Ansible | Johnny's Blog]]></title>
  <link href="http://woody1983.github.io/blog/categories/ansible/atom.xml" rel="self"/>
  <link href="http://woody1983.github.io/"/>
  <updated>2016-07-06T00:38:50+00:00</updated>
  <id>http://woody1983.github.io/</id>
  <author>
    <name><![CDATA[Johnny Hsu]]></name>
    
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    <title type="html"><![CDATA[Ansible MySQL DB Module]]></title>
    <link href="http://woody1983.github.io/blog/2016/07/04/ansible-mysql-db-module/"/>
    <updated>2016-07-04T05:49:14+00:00</updated>
    <id>http://woody1983.github.io/blog/2016/07/04/ansible-mysql-db-module</id>
    <content type="html"><![CDATA[<h3>Install MariaDB</h3>

<pre><code class="bash">[ansible@woody-xu3 ~]$ sudo systemctl start mariadb.service 
[ansible@woody-xu3 ~]$ sudo systemctl enable mariadb.service 
</code></pre>

<h3>Adding Ansible User</h3>

<pre><code class="sql">grant all privileges on *.* to `ansible_db`@`localhost` identified by "123456";
flush privileges;
</code></pre>

<h3>Playbook</h3>

<p>For Create Database.</p>

<pre><code class="yaml">--- # MYSQL_DB MODULE EXAMPLE
- hosts: apacheserver
  user: ansible
  sudo: yes
  connection: ssh
  gather_facts: yes
  tasks:
  - name: Install the Python MySQL Support Libraries
    yum: pkg=MySQL-python state=latest
  - name: Create a New Test DB called MyNewDB
    mysql_db: name=MyNewDB state=present login_user=ansible_db login_password=123456
</code></pre>

<p>For manager User
<code>yaml
--- # MYSQL_USER MODULE EXAMPLE
    - name: Create a new user called BOB and give him all access
    mysql_user: name=bob password=123password priv=*.*:ALL state=present login_user=ansible_db login_password=123456
</code></p>
]]></content>
  </entry>
  
</feed>
